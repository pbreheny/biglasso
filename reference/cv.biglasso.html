<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Cross-validation for biglasso — cv.biglasso • biglasso</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Cross-validation for biglasso — cv.biglasso"><meta property="og:description" content="Perform k-fold cross validation for penalized regression models over a grid
of values for the regularization parameter lambda."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">biglasso</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.6.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/biglasso.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/pbreheny/biglasso/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Cross-validation for biglasso</h1>
    <small class="dont-index">Source: <a href="https://github.com/pbreheny/biglasso/blob/master/R/cv-biglasso.R" class="external-link"><code>R/cv-biglasso.R</code></a></small>
    <div class="hidden name"><code>cv.biglasso.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Perform k-fold cross validation for penalized regression models over a grid
of values for the regularization parameter lambda.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cv.biglasso</span><span class="op">(</span></span>
<span>  <span class="va">X</span>,</span>
<span>  <span class="va">y</span>,</span>
<span>  row.idx <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span>,</span>
<span>  family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gaussian"</span>, <span class="st">"binomial"</span>, <span class="st">"cox"</span>, <span class="st">"mgaussian"</span><span class="op">)</span>,</span>
<span>  eval.metric <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"default"</span>, <span class="st">"MAPE"</span>, <span class="st">"auc"</span>, <span class="st">"class"</span><span class="op">)</span>,</span>
<span>  ncores <span class="op">=</span> <span class="fu">parallel</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/parallel/detectCores.html" class="external-link">detectCores</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  nfolds <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  <span class="va">seed</span>,</span>
<span>  <span class="va">cv.ind</span>,</span>
<span>  trace <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  grouped <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-x">X<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>The design matrix, without an intercept, as in <code><a href="biglasso.html">biglasso()</a></code>.</p></dd>


<dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>The response vector, as in <code>biglasso</code>.</p></dd>


<dt id="arg-row-idx">row.idx<a class="anchor" aria-label="anchor" href="#arg-row-idx"></a></dt>
<dd><p>The integer vector of row indices of <code>X</code> that used for
fitting the model. as in <code>biglasso</code>.</p></dd>


<dt id="arg-family">family<a class="anchor" aria-label="anchor" href="#arg-family"></a></dt>
<dd><p>Either <code>"gaussian"</code>, <code>"binomial"</code>, <code>"cox"</code> or
<code>"mgaussian"</code> depending on the response. <code>"cox"</code> and <code>"mgaussian"</code>
are not supported yet.</p></dd>


<dt id="arg-eval-metric">eval.metric<a class="anchor" aria-label="anchor" href="#arg-eval-metric"></a></dt>
<dd><p>The evaluation metric for the cross-validated error and
for choosing optimal <code>lambda</code>. "default" for linear regression is MSE
(mean squared error), for logistic regression is binomial deviance.
"MAPE", for linear regression only, is the Mean Absolute Percentage Error.
"auc", for binary classification, is the area under the receiver operating
characteristic curve (ROC).
"class", for binary classification, gives the misclassification error.</p></dd>


<dt id="arg-ncores">ncores<a class="anchor" aria-label="anchor" href="#arg-ncores"></a></dt>
<dd><p>The number of cores to use for parallel execution of the
cross-validation folds, run on a cluster created by the <code>parallel</code>
package. (This is also supplied to the <code>ncores</code> argument in
<code><a href="biglasso.html">biglasso()</a></code>, which is the number of OpenMP threads, but only for
the first call of <code><a href="biglasso.html">biglasso()</a></code> that is  run on the entire data. The
individual calls of <code><a href="biglasso.html">biglasso()</a></code> for the CV folds are run without
the <code>ncores</code> argument.)</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments to <code>biglasso</code>.</p></dd>


<dt id="arg-nfolds">nfolds<a class="anchor" aria-label="anchor" href="#arg-nfolds"></a></dt>
<dd><p>The number of cross-validation folds.  Default is 5.</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>The seed of the random number generator in order to obtain
reproducible results.</p></dd>


<dt id="arg-cv-ind">cv.ind<a class="anchor" aria-label="anchor" href="#arg-cv-ind"></a></dt>
<dd><p>Which fold each observation belongs to.  By default the
observations are randomly assigned by <code>cv.biglasso</code>.</p></dd>


<dt id="arg-trace">trace<a class="anchor" aria-label="anchor" href="#arg-trace"></a></dt>
<dd><p>If set to TRUE, cv.biglasso will inform the user of its
progress by announcing the beginning of each CV fold.  Default is FALSE.</p></dd>


<dt id="arg-grouped">grouped<a class="anchor" aria-label="anchor" href="#arg-grouped"></a></dt>
<dd><p>Whether to calculate CV standard error (<code>cvse</code>) over
CV folds (<code>TRUE</code>), or over all cross-validated predictions. Ignored
when <code>eval.metric</code> is 'auc'.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>An object with S3 class <code>"cv.biglasso"</code> which inherits from
class <code>"cv.ncvreg"</code>. The following variables are contained in the
class (adopted from <code><a href="https://pbreheny.github.io/ncvreg/reference/cv.ncvreg.html" class="external-link">ncvreg::cv.ncvreg()</a></code>).</p>
<dl><dt>cve</dt>
<dd><p>The error for each value of <code>lambda</code>, averaged across the cross-validation folds.</p></dd>

<dt>cvse</dt>
<dd><p>The estimated standard error associated with each value of for <code>cve</code>.</p></dd>

<dt>lambda</dt>
<dd><p>The sequence of regularization parameter values along which the cross-validation error was calculated.</p></dd>

<dt>fit</dt>
<dd><p>The fitted <code>biglasso</code> object for the whole data.</p></dd>

<dt>min</dt>
<dd><p>The index of <code>lambda</code> corresponding to <code>lambda.min</code>.</p></dd>

<dt>lambda.min</dt>
<dd><p>The value of <code>lambda</code> with the minimum cross-validation error.</p></dd>

<dt>lambda.1se</dt>
<dd><p>The largest value of <code>lambda</code> for which the cross-validation error is at most one standard error larger than the minimum cross-validation error.</p></dd>

<dt>null.dev</dt>
<dd><p>The deviance for the intercept-only model.</p></dd>

<dt>pe</dt>
<dd><p>If <code>family="binomial"</code>, the cross-validation prediction error for each value of <code>lambda</code>.</p></dd>

<dt>cv.ind</dt>
<dd><p>Same as above.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The function calls <code>biglasso</code> <code>nfolds</code> times, each time leaving
out 1/<code>nfolds</code> of the data. The cross-validation error is based on the
residual sum of squares when <code>family="gaussian"</code> and the binomial
deviance when <code>family="binomial"</code>.</p>
<p>The S3 class object <code>cv.biglasso</code> inherits class <code><a href="https://pbreheny.github.io/ncvreg/reference/cv.ncvreg.html" class="external-link">ncvreg::cv.ncvreg()</a></code>. So S3
functions such as <code>"summary", "plot"</code> can be directly applied to the
<code>cv.biglasso</code> object.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="biglasso.html">biglasso()</a></code>, <code><a href="plot.cv.biglasso.html">plot.cv.biglasso()</a></code>, <code><a href="summary.cv.biglasso.html">summary.cv.biglasso()</a></code>, <code><a href="setupX.html">setupX()</a></code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Yaohui Zeng and Patrick Breheny</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co">## cv.biglasso</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">colon</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">X</span> <span class="op">&lt;-</span> <span class="va">colon</span><span class="op">$</span><span class="va">X</span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">colon</span><span class="op">$</span><span class="va">y</span></span></span>
<span class="r-in"><span><span class="va">X.bm</span> <span class="op">&lt;-</span> <span class="fu">as.big.matrix</span><span class="op">(</span><span class="va">X</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## logistic regression</span></span></span>
<span class="r-in"><span><span class="va">cvfit</span> <span class="op">&lt;-</span> <span class="fu">cv.biglasso</span><span class="op">(</span><span class="va">X.bm</span>, <span class="va">y</span>, family <span class="op">=</span> <span class="st">'binomial'</span>, seed <span class="op">=</span> <span class="fl">1234</span>, ncores <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">cvfit</span>, type <span class="op">=</span> <span class="st">'all'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">cvfit</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Yaohui Zeng, Chuyi Wang, Tabitha Peter, Patrick Breheny.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

